<!DOCTYPE html>
<html lang="en">

<head>
    <!-- header -->
    <% include _partials/painel/header %>
</head>

<body>
    <header>
    <!-- navbar -->
    <% include _partials/navbar %>
    </header>

    <section class="content">
        <div class="container">
            <h2>Classificações</h2>
            <% if (groupsRanking.length !== 0 && usersRanking.length !== 0) { %>
                <ul class="nav nav-tabs mt-4" id="classificationsTab" role="tablist">
                <li class="nav-item">
                    <a class="nav-link <%= (groupsRanking && groupsRanking.length > 0) ? 'active' : 'disabled' %>" id="groups-tab" data-toggle="tab" href="#groups" role="tab" aria-controls="groups" aria-selected="true"><i class="fa fa-users fa-fw" aria-hidden="true"></i> Grupos</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link <%= !groupsRanking && (usersRanking && usersRanking.length > 0) ? 'active' : (usersRanking && usersRanking.length > 0) ? '' : 'disabled' %>" id="users-tab" data-toggle="tab" href="#users" role="tab" aria-controls="users" aria-selected="false"><i class="fa fa-user fa-fw" aria-hidden="true"></i> Usuários</a>
                </li>
                </ul>
                <div class="tab-content" id="classificationsTabContent">
                    <div class="tab-pane fade <%= (groupsRanking && groupsRanking.length > 0) ? 'show active' : '' %>" id="groups" role="tabpanel" aria-labelledby="groups-tab">
                        <% if (usersRanking && usersRanking.length > 0) { %>
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>#</th>
                                        <th>Grupo</th>
                                        <th class="text-center">Pontuação</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <% groupsRanking.forEach( groupRanking => { %>
                                        <tr>
                                            <th scope="row"><%= groupRanking.id %></th>
                                            <td><%= groupRanking.name %></td>
                                            <td class="text-center"><%= groupRanking.score ? groupRanking.score : 0 %></td>
                                        </tr>
                                    <% }) %>
                                </tbody>
                            </table>
                        <% } %>
                    </div>
                    <div class="tab-pane fade <%= !groupsRanking ? ((usersRanking && usersRanking.length > 0) ? 'show active' : '') : '' %>" id="users" role="tabpanel" aria-labelledby="users-tab">
                        <% if (usersRanking && usersRanking.length > 0) { %>
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>#</th>
                                        <th>Usuário</th>
                                        <th class="text-center">Pontuação</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <% usersRanking.forEach( userRanking => { %>
                                        <tr>
                                            <th scope="row"><%= userRanking.id %></th>
                                            <td><%= userRanking.name %></td>
                                            <td class="text-center"><%= userRanking.score ? userRanking.score : 0 %></td>
                                        </tr>
                                    <% }) %>
                                </tbody>
                            </table>
                        <% } %>
                    </div>
                </div>
            <% } else { %>

            <% } %>
        </div>
    </section>

    <!-- footer -->
    <% include _partials/painel/footer %>
</body>
</html>
